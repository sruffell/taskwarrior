FROM centos:7

# Setup language environment
ENV LC_ALL en_US.UTF-8
ENV LANG en_US.UTF-8
ENV LANGUAGE en_US.UTF-8

WORKDIR /root/code

RUN yum update -y \
  && yum install -y epel-release centos-release-scl \
  && yum install -y \
    cmake3 \
    devtoolset-7-gcc* \
    gcc \
    gcc-c++ \
    git \
    gnutls-devel \
    libuuid-devel \
    libfaketime \
    make \
    python \
    which \
  && yum clean all \
  && ln -s /usr/bin/cmake3 /usr/bin/cmake

CMD ["bash", "-c", "/source/test/scripts/run_centos7_test.sh"]
